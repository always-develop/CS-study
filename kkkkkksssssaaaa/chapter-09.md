# 09. 운영체제 시작하기

# [CS] 👽 혼자 공부하는 컴퓨터구조+운영체제

---

## 09. 운영체제 시작하기

### 09-1. 운영체제를 알아야 하는 이유

- 컴퓨터의 하드웨어 요소들(CPU, 메모리, 기억장치, 입출력장치 등등)은 모두 자원이다…
- 프로그램이 실행되기 위해서는 자원이 반드시 자원이 필요하며, 이러한 자원들을 프로그램에게 할당하고, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램을 `운영체제` 라고 부른다고 한다
- 운영체제도 프로그램이기 때문에, 메모리에 적재된다
  - 다만, 매우매우 특별한 프로그램이기 때문에 메모리 내에 `커널 영역(Kernel space)` 이라는 곳에 따로 적재되어 실행된다고 한다
  - 커널 영역 외에 일반적인 사용자들이 이용하는 응용 프로그램이 적재되는 영역을 `사용자 영역(User space)` 라고 한다
- 응용프로그램을 사용자 영역에 적재시키는 것은 운영체제가 수행한다
  - 즉, 응용프로그램을 제어하며 자원을 할당해주는 역할은 운영체제가 수행한다
  - 운영체제가 존재하는 덕에, 프로그래머들이 프로그램을 만들 때 하드웨어를 조작하는 코드를 작성하지 않아도 된다 👏

### 09-2. 운영체제의 큰 그림

- 운영체제 그 자체로도 아주 중요한 역할을 수행하지만, 이 중에서도 핵심 서비스를 담당하는 부분을 `커널(Kernal)` 이라고 부른다
  - 사람의 심장, 자동차의 엔진으로 비유한다
  - 커널에 포함되지 않는 운영체제의 서비스 중 가장 대표적인건 `사용자 인터페이스(User Interface, UI)` 부분이라고 한다
    - GUI 나 CLI 가 대표적이다
- 응용프로그램은 함부로 자원에 접근할 수 없고, 운영체제를 통해 간접적으로 접근한다
  - 이러한 문지기 역할은 `이중 모드(Dual mode)` 라는 것으로 구현되는데, 운영체제가 커널 영역의 코드를 사용할 수 있는지, 없는지에 따라 `커널 모드(Kernal mode)` 와 `사용자 모드(User mode)` 로 나뉘는 것을 의미한다
  - 운영체제가 커널 모드라면 자원에 접근하는 명령어를 실행할 수 있는 상태이며, 사용자 모드라면 자원에 접근하는 명령어를 사용할 수 없게 된다
  - 사용자 모드에서 커널 모드로 전환될 때의 요청을 `시스템 호출(System call)` 이라고 한다
    - 시스템 콜은 일종의 소프트웨어 인터럽트라고 생각하면 된다
  - 시스템 콜은 매우 빈번하게 일어난다고 한다
- 운영체제의 핵심 서비스
  - 프로세스 관리
    - CPU 는 한 번에 하나의 명령어만 처리할 수 있기 때문에, 여러 개의 프로세스를 조금씩 실행한다
    - 만약, 여러 프로세스가 동시에 실행되는 경우(==여러 코어가 병렬적으로 동작하고 있을 때) `프로세스 동기화` 라는 작업을 진행하거나 `교착 상태` 를 해결하는 것도 운영체제의 역할이다
  - 자원 접근 및 할당
    - CPU 의 경우, 어떤 프로세스가 CPU 를 점유할지, 얼마나 점유할지를 결정할 수 있어야 한다
      - 해당 작업을 `CPU 스케줄링` 이라고 한다
    - 인터럽트 서비스 루틴도 운영체제가 수행한다고 한다
  - 파일 시스템 관리
